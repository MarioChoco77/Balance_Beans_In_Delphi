unit Unidad_MenuPrincipal;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, GraphicEx, ExtCtrls, MPlayer, Menus, StdCtrls, Buttons;

type
  TMenu_Principal = class(TForm)
    Background: TImage;
    Logo: TImage;
    Timer_Carga1: TTimer;
    Music_Menu: TMediaPlayer;
    Timer_MusicaMenu: TTimer;
    Boton_Empezar: TPanel;
    Boton_Creditos: TPanel;
    Boton_Salir: TPanel;
    Selec_Dificultad: TComboBox;
    Panel_Creditos: TPanel;
    Label1: TLabel;
    Molde_Creditos: TLabel;
    Timer_Creditos: TTimer;
    Timer_Subida: TTimer;
    BitBtn1: TBitBtn;
    procedure Timer_Carga1Timer(Sender: TObject);
    procedure Timer_MusicaMenuTimer(Sender: TObject);
    procedure Boton_SalirClick(Sender: TObject);
    procedure Boton_EmpezarClick(Sender: TObject);
    procedure Boton_CreditosClick(Sender: TObject);
    procedure Timer_CreditosTimer(Sender: TObject);
    procedure Timer_SubidaTimer(Sender: TObject);
    procedure BitBtn1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Menu_Principal: TMenu_Principal;
  Credito : TLabel;
  x : Integer;
  creditos: array[1..13] of string = (
    'Iniciando créditos épicos...',
    'Dirección general: Angel Martínez',
    'Dirección artística: Angel Martínez (otra vez)',
    'Producción ejecutiva: Angel Martínez (¿quién más?)',
    'Guión: Ángel Martínez (con ayuda de sus alucinaciones)',
    'Música original: Una playlist de YouTube que se me olvido cerrar',
    'Diseño de sonido: El ventilador de la compu y uno que otro clic',
    'Diseño de niveles: Angel Martínez (con inspiración divina)',
    'Pruebas de juego: Angel Martínez jugando solo a las 3AM',
    'Inspirado en el juego "Balance Beans" de ThinkFun (gracias por existir)',
    'Créditos y derechos reservados: ThinkFun (no queremos demandas ??)',
    'Efectos especiales: Un par de líneas de código que casi no crashearon',
    'Agradecimientos especiales: A ti, sí tú, por jugar este juego'
  );

implementation

uses Unidad_Juego;

{$R *.dfm}

procedure TMenu_Principal.Timer_Carga1Timer(Sender: TObject);
begin
Logo.Picture.LoadFromFile(ExtractFilePath(Application.ExeName)+'Imagenes/Logo.png');
Background.Picture.LoadFromFile(ExtractFilePath(Application.ExeName)+'Imagenes/Beans_Background.png');
Timer_Carga1.Enabled:=false;
end;

procedure TMenu_Principal.Timer_MusicaMenuTimer(Sender: TObject);
begin
Music_Menu.FileName:= (ExtractFilePath(Application.ExeName)+'Sounds/Main_MenuSong.mp3');
Music_Menu.Open;
Music_Menu.Play;
Timer_MusicaMenu.Interval:= 84000;
end;

procedure TMenu_Principal.Boton_SalirClick(Sender: TObject);
begin
close;
end;

procedure TMenu_Principal.Boton_EmpezarClick(Sender: TObject);
begin
if Selec_Dificultad.ItemIndex > -1 then begin
Application.CreateForm(TFormulario_Juego, Formulario_Juego);
Music_Menu.Stop;
Timer_MusicaMenu.Enabled:=false;
Formulario_Juego.Timer_Music.Enabled:=true;
Formulario_Juego.Show;
end
else begin
Application.MessageBox('Seleccione una Dificultad','Error',MB_ICONERROR+ MB_OK)
end;
end;

procedure TMenu_Principal.Boton_CreditosClick(Sender: TObject);
begin
Timer_Creditos.Enabled:=true;
Panel_Creditos.Visible:=true;
Timer_MusicaMenu.Enabled:=false;
Music_Menu.FileName:= (ExtractFilePath(Application.ExeName)+'Sounds/Balance beans!1.mp3');
Music_Menu.Open;
Music_Menu.Play;
Timer_Subida.Enabled:=true;
Molde_Creditos.Caption:=Creditos[1];
x:=1;
end;

procedure TMenu_Principal.Timer_CreditosTimer(Sender: TObject);
begin
Panel_Creditos.Visible:=false;
Timer_MusicaMenu.Interval:=5;
Timer_MusicaMenu.Enabled:= true;
end;

procedure TMenu_Principal.Timer_SubidaTimer(Sender: TObject);
begin
Molde_Creditos.Top:=Molde_Creditos.Top-2;
if (Molde_Creditos.Top=0-Molde_Creditos.Height) then begin
x:=x+1;
Molde_Creditos.Top:= 350;
Molde_Creditos.Caption:= creditos[x];
end;
end;

procedure TMenu_Principal.BitBtn1Click(Sender: TObject);
begin
Panel_Creditos.Visible:=false;
Timer_MusicaMenu.Interval:=5;
Timer_MusicaMenu.Enabled:= true;
Molde_Creditos.Top:= 350;
end;

end.
